function cov_30m7i5y7r(){var path="C:\\Users\\SParker\\projects\\Capstone\\mutualFundsService\\models\\index.js";var hash="d08a593a6530a122ba31727ec3e0a05fd4f613e7";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\SParker\\projects\\Capstone\\mutualFundsService\\models\\index.js",statementMap:{"0":{start:{line:2,column:17},end:{line:2,column:46}},"1":{start:{line:5,column:33},end:{line:5,column:53}},"2":{start:{line:8,column:16},end:{line:8,column:20}},"3":{start:{line:10,column:4},end:{line:29,column:5}},"4":{start:{line:11,column:8},end:{line:19,column:10}},"5":{start:{line:21,column:7},end:{line:28,column:10}},"6":{start:{line:41,column:0},end:{line:47,column:7}},"7":{start:{line:43,column:8},end:{line:43,column:47}},"8":{start:{line:46,column:8},end:{line:46,column:59}},"9":{start:{line:50,column:11},end:{line:50,column:13}},"10":{start:{line:53,column:0},end:{line:53,column:25}},"11":{start:{line:55,column:0},end:{line:55,column:68}},"12":{start:{line:56,column:0},end:{line:56,column:62}},"13":{start:{line:57,column:0},end:{line:57,column:62}},"14":{start:{line:58,column:0},end:{line:58,column:58}},"15":{start:{line:59,column:0},end:{line:59,column:56}},"16":{start:{line:61,column:0},end:{line:65,column:3}},"17":{start:{line:62,column:4},end:{line:62,column:43}},"18":{start:{line:64,column:4},end:{line:64,column:60}},"19":{start:{line:67,column:0},end:{line:67,column:30}},"20":{start:{line:68,column:0},end:{line:68,column:38}},"21":{start:{line:69,column:0},end:{line:69,column:32}},"22":{start:{line:70,column:0},end:{line:70,column:36}},"23":{start:{line:71,column:0},end:{line:71,column:36}},"24":{start:{line:72,column:0},end:{line:72,column:38}},"25":{start:{line:73,column:0},end:{line:73,column:33}},"26":{start:{line:74,column:0},end:{line:74,column:31}},"27":{start:{line:76,column:0},end:{line:76,column:20}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:42,column:10},end:{line:42,column:11}},loc:{start:{line:42,column:16},end:{line:44,column:5}},line:42},"1":{name:"(anonymous_1)",decl:{start:{line:45,column:11},end:{line:45,column:12}},loc:{start:{line:45,column:16},end:{line:47,column:5}},line:45},"2":{name:"(anonymous_2)",decl:{start:{line:61,column:41},end:{line:61,column:42}},loc:{start:{line:61,column:47},end:{line:63,column:1}},line:61},"3":{name:"(anonymous_3)",decl:{start:{line:63,column:9},end:{line:63,column:10}},loc:{start:{line:63,column:20},end:{line:65,column:1}},line:63}},branchMap:{"0":{loc:{start:{line:10,column:4},end:{line:29,column:5}},type:"if",locations:[{start:{line:10,column:4},end:{line:29,column:5}},{start:{line:10,column:4},end:{line:29,column:5}}],line:10},"1":{loc:{start:{line:10,column:8},end:{line:10,column:43}},type:"binary-expr",locations:[{start:{line:10,column:8},end:{line:10,column:15}},{start:{line:10,column:19},end:{line:10,column:43}}],line:10}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d08a593a6530a122ba31727ec3e0a05fd4f613e7"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_30m7i5y7r=function(){return actualCoverage;};}return actualCoverage;}cov_30m7i5y7r();//require the db configuration from the dbConfig file
const dbConfig=(cov_30m7i5y7r().s[0]++,require('../config/dbConfig'));//require the sequelize Constructor and DataTypes from sequelize module
const{Sequelize,DataTypes}=(cov_30m7i5y7r().s[1]++,require('sequelize'));//construct the sequelize object using the constructor
let sequelize=(cov_30m7i5y7r().s[2]++,null);cov_30m7i5y7r().s[3]++;if((cov_30m7i5y7r().b[1][0]++,process)&&(cov_30m7i5y7r().b[1][1]++,process.env.DATABASE_URL)){cov_30m7i5y7r().b[0][0]++;cov_30m7i5y7r().s[4]++;sequelize=new Sequelize(process.env.DATABASE_URL,{dialectOptions:{ssl:{require:true,rejectUnauthorized:false}}});}else{cov_30m7i5y7r().b[0][1]++;cov_30m7i5y7r().s[5]++;sequelize=new Sequelize({// use imported configurations from dbConfig
database:process.env.DB,username:process.env.USER,password:process.env.PASSWORD,dialect:process.env.dialect,host:process.env.HOST});}//config for AWS
// const sequelize = new Sequelize(
//     {
//         database: dbConfig.DB,
//         username: dbConfig.USER,
//         password: dbConfig.PASSWORD,
//         dialect: dbConfig.dialect,
//         host: dbConfig.HOST,
//     });
//authenticate will test the connection with DB and return a promise
cov_30m7i5y7r().s[6]++;sequelize.authenticate().then(()=>{cov_30m7i5y7r().f[0]++;cov_30m7i5y7r().s[7]++;console.log("connected to Postgres DB");}).catch(e=>{cov_30m7i5y7r().f[1]++;cov_30m7i5y7r().s[8]++;console.log('unable to connect to Postgres DB'+e);});//create a db object to work with the sequelize table
const db=(cov_30m7i5y7r().s[9]++,{});//create an attribute storing the previously created sequelize instance
cov_30m7i5y7r().s[10]++;db.sequelize=sequelize;cov_30m7i5y7r().s[11]++;db.MutualFunds=require('./mutualFundModel')(sequelize,DataTypes);cov_30m7i5y7r().s[12]++;db.Accounts=require('./accountModel')(sequelize,DataTypes);cov_30m7i5y7r().s[13]++;db.MFStocks=require('./mFStockModel')(sequelize,DataTypes);cov_30m7i5y7r().s[14]++;db.Stocks=require('./stockModel')(sequelize,DataTypes);cov_30m7i5y7r().s[15]++;db.Users=require('./userModel')(sequelize,DataTypes);cov_30m7i5y7r().s[16]++;db.sequelize.sync({force:false}).then(()=>{cov_30m7i5y7r().f[2]++;cov_30m7i5y7r().s[17]++;console.log('DB synced with sequelize');}).catch(error=>{cov_30m7i5y7r().f[3]++;cov_30m7i5y7r().s[18]++;console.log('Error syncing the DB to sequelize'+error);});cov_30m7i5y7r().s[19]++;db.Users.hasMany(db.Accounts);cov_30m7i5y7r().s[20]++;db.Accounts.belongsTo(db.MutualFunds);cov_30m7i5y7r().s[21]++;db.Accounts.belongsTo(db.Users);cov_30m7i5y7r().s[22]++;db.MutualFunds.hasMany(db.Accounts);cov_30m7i5y7r().s[23]++;db.MutualFunds.hasMany(db.MFStocks);cov_30m7i5y7r().s[24]++;db.MFStocks.belongsTo(db.MutualFunds);cov_30m7i5y7r().s[25]++;db.MFStocks.belongsTo(db.Stocks);cov_30m7i5y7r().s[26]++;db.Stocks.hasMany(db.MFStocks);cov_30m7i5y7r().s[27]++;module.exports=db;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRiQ29uZmlnIiwicmVxdWlyZSIsIlNlcXVlbGl6ZSIsIkRhdGFUeXBlcyIsInNlcXVlbGl6ZSIsInByb2Nlc3MiLCJlbnYiLCJEQVRBQkFTRV9VUkwiLCJkaWFsZWN0T3B0aW9ucyIsInNzbCIsInJlamVjdFVuYXV0aG9yaXplZCIsImRhdGFiYXNlIiwiREIiLCJ1c2VybmFtZSIsIlVTRVIiLCJwYXNzd29yZCIsIlBBU1NXT1JEIiwiZGlhbGVjdCIsImhvc3QiLCJIT1NUIiwiYXV0aGVudGljYXRlIiwidGhlbiIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImUiLCJkYiIsIk11dHVhbEZ1bmRzIiwiQWNjb3VudHMiLCJNRlN0b2NrcyIsIlN0b2NrcyIsIlVzZXJzIiwic3luYyIsImZvcmNlIiwiZXJyb3IiLCJoYXNNYW55IiwiYmVsb25nc1RvIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IjQwR0FlWTt5RkFmWjtBQUNBLEtBQU1BLENBQUFBLFFBQVEseUJBQUdDLE9BQU8sQ0FBQyxvQkFBRCxDQUFWLENBQWQsQ0FFQTtBQUNBLEtBQU0sQ0FBRUMsU0FBRixDQUFhQyxTQUFiLDBCQUEyQkYsT0FBTyxDQUFDLFdBQUQsQ0FBbEMsQ0FBTixDQUVBO0FBQ0EsR0FBSUcsQ0FBQUEsU0FBUyx5QkFBRyxJQUFILENBQWIsQyx1QkFFSSxHQUFJLDJCQUFBQyxPQUFPLDhCQUFJQSxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsWUFBaEIsQ0FBWCxDQUF5QyxrREFDckNILFNBQVMsQ0FBRyxHQUFJRixDQUFBQSxTQUFKLENBQWNHLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxZQUExQixDQUF3QyxDQUNoREMsY0FBYyxDQUFFLENBQ2hCQyxHQUFHLENBQUUsQ0FDRFIsT0FBTyxDQUFFLElBRFIsQ0FFRFMsa0JBQWtCLENBQUUsS0FGbkIsQ0FEVyxDQURnQyxDQUF4QyxDQUFaLENBU0gsQ0FWRCxJQVVPLGtEQUNKTixTQUFTLENB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ZmlnIGZpbGVcclxuY29uc3QgZGJDb25maWcgPSByZXF1aXJlKCcuLi9jb25maWcvZGJDb25maWcnKTtcclxuXHJcbi8vcmVxdWlyZSB0aGUgc2VxdWVsaXplIENvbnN0cnVjdG9yIGFuZCBEYXRhVHlwZXMgZnJvbSBzZXF1ZWxpemUgbW9kdWxlXHJcbmNvbnN0IHsgU2VxdWVsaXplLCBEYXRhVHlwZXMgfSA9IHJlcXVpcmUoJ3NlcXVlbGl6ZScpO1xyXG5cclxuLy9jb25zdHJ1Y3QgdGhlIHNlcXVlbGl6ZSBvYmplY3QgdXNpbmcgdGhlIGNvbnN0cnVjdG9yXHJcbmxldCBzZXF1ZWxpemUgPSBudWxsO1xyXG5cclxuICAgIGlmIChwcm9jZXNzICYmIHByb2Nlc3MuZW52LkRBVEFCQVNFX1VSTCkge1xyXG4gICAgICAgIHNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUocHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMLCB7XHJcbiAgICAgICAgICAgIGRpYWxlY3RPcHRpb25zOiB7XHJcbiAgICAgICAgICAgIHNzbDoge1xyXG4gICAgICAgICAgICAgICAgcmVxdWlyZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHJlamVjdFVuYXV0aG9yaXplZDogZmFsc2VcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgIHNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUoXHJcbiAgICAgICAgeyAvLyB1c2UgaW1wb3J0ZWQgY29uZmlndXJhdGlvbnMgZnJvbSBkYkNvbmZpZ1xyXG4gICAgICAgICAgICBkYXRhYmFzZTogcHJvY2Vzcy5lbnYuREIsXHJcbiAgICAgICAgICAgIHVzZXJuYW1lOiBwcm9jZXNzLmVudi5VU0VSLFxyXG4gICAgICAgICAgICBwYXNzd29yZDogcHJvY2Vzcy5lbnYuUEFTU1dPUkQsXHJcbiAgICAgICAgICAgIGRpYWxlY3Q6IHByb2Nlc3MuZW52LmRpYWxlY3QsXHJcbiAgICAgICAgICAgIGhvc3Q6IHByb2Nlc3MuZW52LkhPU1QsXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuLy9jb25maWcgZm9yIEFXU1xyXG4vLyBjb25zdCBzZXF1ZWxpemUgPSBuZXcgU2VxdWVsaXplKFxyXG4vLyAgICAge1xyXG4vLyAgICAgICAgIGRhdGFiYXNlOiBkYkNvbmZpZy5EQixcclxuLy8gICAgICAgICB1c2VybmFtZTogZGJDb25maWcuVVNFUixcclxuLy8gICAgICAgICBwYXNzd29yZDogZGJDb25maWcuUEFTU1dPUkQsXHJcbi8vICAgICAgICAgZGlhbGVjdDogZGJDb25maWcuZGlhbGVjdCxcclxuLy8gICAgICAgICBob3N0OiBkYkNvbmZpZy5IT1NULFxyXG4vLyAgICAgfSk7XHJcblxyXG4vL2F1dGhlbnRpY2F0ZSB3aWxsIHRlc3QgdGhlIGNvbm5lY3Rpb24gd2l0aCBEQiBhbmQgcmV0dXJuIGEgcHJvbWlzZVxyXG5zZXF1ZWxpemUuYXV0aGVudGljYXRlKClcclxuICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImNvbm5lY3RlZCB0byBQb3N0Z3JlcyBEQlwiKVxyXG4gICAgfSlcclxuICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygndW5hYmxlIHRvIGNvbm5lY3QgdG8gUG9zdGdyZXMgREInICsgZSlcclxuICAgIH0pO1xyXG5cclxuLy9jcmVhdGUgYSBkYiBvYmplY3QgdG8gd29yayB3aXRoIHRoZSBzZXF1ZWxpemUgdGFibGVcclxuY29uc3QgZGIgPSB7fTtcclxuXHJcbi8vY3JlYXRlIGFuIGF0dHJpYnV0ZSBzdG9yaW5nIHRoZSBwcmV2aW91c2x5IGNyZWF0ZWQgc2VxdWVsaXplIGluc3RhbmNlXHJcbmRiLnNlcXVlbGl6ZSA9IHNlcXVlbGl6ZTtcclxuXHJcbmRiLk11dHVhbEZ1bmRzID0gcmVxdWlyZSgnLi9tdXR1YWxGdW5kTW9kZWwnKShzZXF1ZWxpemUsIERhdGFUeXBlcyk7XHJcbmRiLkFjY291bnRzID0gcmVxdWlyZSgnLi9hY2NvdW50TW9kZWwnKShzZXF1ZWxpemUsIERhdGFUeXBlcyk7XHJcbmRiLk1GU3RvY2tzID0gcmVxdWlyZSgnLi9tRlN0b2NrTW9kZWwnKShzZXF1ZWxpemUsIERhdGFUeXBlcyk7XHJcbmRiLlN0b2NrcyA9IHJlcXVpcmUoJy4vc3RvY2tNb2RlbCcpKHNlcXVlbGl6ZSwgRGF0YVR5cGVzKTtcclxuZGIuVXNlcnMgPSByZXF1aXJlKCcuL3VzZXJNb2RlbCcpKHNlcXVlbGl6ZSwgRGF0YVR5cGVzKTtcclxuXHJcbmRiLnNlcXVlbGl6ZS5zeW5jKHsgZm9yY2U6IGZhbHNlIH0pLnRoZW4oKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ0RCIHN5bmNlZCB3aXRoIHNlcXVlbGl6ZScpXHJcbn0pLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ0Vycm9yIHN5bmNpbmcgdGhlIERCIHRvIHNlcXVlbGl6ZScgKyBlcnJvcilcclxufSk7XHJcblxyXG5kYi5Vc2Vycy5oYXNNYW55KGRiLkFjY291bnRzKTtcclxuZGIuQWNjb3VudHMuYmVsb25nc1RvKGRiLk11dHVhbEZ1bmRzKTtcclxuZGIuQWNjb3VudHMuYmVsb25nc1RvKGRiLlVzZXJzKTtcclxuZGIuTXV0dWFsRnVuZHMuaGFzTWFueShkYi5BY2NvdW50cyk7XHJcbmRiLk11dHVhbEZ1bmRzLmhhc01hbnkoZGIuTUZTdG9ja3MpO1xyXG5kYi5NRlN0b2Nrcy5iZWxvbmdzVG8oZGIuTXV0dWFsRnVuZHMpO1xyXG5kYi5NRlN0b2Nrcy5iZWxvbmdzVG8oZGIuU3RvY2tzKTtcclxuZGIuU3RvY2tzLmhhc01hbnkoZGIuTUZTdG9ja3MpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBkYjtcclxuXHJcbiJdfQ==